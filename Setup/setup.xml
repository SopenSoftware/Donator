<?xml version="1.0" encoding="utf-8"?>
<application>
    <name>Donator</name>
    <version>2.18</version>
    <order>85</order>
    <status>enabled</status>
	<depends>
        <application>Addressbook</application>
		<application>DocManager</application>
	</depends>
    <tables>
        <table>
			<name>fund_master</name>
			<version>2</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
	                <name>contact_id</name>
	                <type>integer</type>
	                <notnull>true</notnull>
	            </field>				
				<field>
	                <name>donation_affinity_seasonal</name>
	                <type>integer</type>
	                <notnull>false</notnull>
	            </field>
				<field>
	                <name>donation_affinity_thematic</name>
	                <type>integer</type>
	                <notnull>false</notnull>
	            </field>
				<field>
	                <name>donation_affinity_regional</name>
	                <type>integer</type>
	                <notnull>false</notnull>
	            </field>
				<field>
	                <name>donation_affinity_spec_events</name>
	                <type>integer</type>
	                <notnull>false</notnull>
	            </field>
				<field>
	                <name>donator_affiliate</name>
	                <type>integer</type>
	                <notnull>false</notnull>
	            </field>
				<field>
	                <name>first_contact</name>
	                <type>date</type>
	                <notnull>false</notnull>
	            </field>
				<field>
	                <name>first_contact_campaign_id</name>
	                <type>text</type>
					<length>40</length>
	                <notnull>false</notnull>
	            </field>
				<field>
	                <name>reg_donation_amount</name>
	                <type>float</type>
	                <notnull>false</notnull>
	            </field>
				<field>
	                <name>reg_donation_account_nr</name>
	                <type>text</type>
	                <notnull>false</notnull>
	            </field>
				<field>
	                <name>gratuation_kind</name>
					<type>enum</type>
					<value>THANK_NO</value>
					<value>THANK_STANDARD</value>
					<value>THANK_INDIVIDUAL</value>
					<default>THANK_NO</default>
	            </field>
				<field>
	                <name>confirmation_kind</name>
					<type>enum</type>
					<value>CONFIRMATION_COLLECT</value>
					<value>CONFIRMATION_SINGLE</value>
					<value>CONFIRMATION_NO</value>
					<default>CONFIRMATION_COLLECT</default>
	            </field>				
				<field>
					<name>donation_payment_interval</name>
					<type>enum</type>
					<value>NOVALUE</value>
					<value>YEAR</value>
					<value>HALF</value>
					<value>QUARTER</value>
					<value>MONTH</value>
					<default>NOVALUE</default>
				</field>	
				<field>
					<name>donation_payment_method</name>
					<type>enum</type>
					<value>NOVALUE</value>
					<value>BANKTRANSFER</value>
					<value>DEBIT</value>
					<default>NOVALUE</default>
				</field>	
				<field>
	                <name>is_fm_hidden</name>
	                <type>boolean</type>
	                <notnull>true</notnull>
					<default>false</default>
	            </field>
				<field>
					<name>bank_account_nr</name>
					<type>text</type>
					<length>32</length>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
					<name>bank_code</name>
					<type>text</type>
					<length>16</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
					<name>bank_name</name>
					<type>text</type>
					<length>48</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
					<name>account_name</name>
					<type>text</type>
					<length>48</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<index>
                    <name>id</name>
                    <primary>true</primary>
                    <field>
                        <name>id</name>
                    </field>
                </index>
			</declaration>
		</table>
		<table>
			<name>fund_donation</name>	
			<version>3</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
					<name>fundmaster_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
				</field>	
				<field>
					<name>related_donation_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>false</notnull>
					<default>null</default>
				</field>				
				<field>
                    <name>donation_nr</name>
                    <type>integer</type>
					<autoincrement>true</autoincrement>
					<notnull>false</notnull>
                </field>
				<field>
					<name>campaign_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>false</notnull>
				</field>
				<field>
                    <name>payment_id</name>
                   	<type>text</type>
					<length>40</length>
                    <notnull>false</notnull>
                </field>
				<field>
	                <name>donation_date</name>
	                <type>datetime</type>
	                <notnull>false</notnull>
	            </field>	
				<field>
	                <name>thanks_date</name>
	                <type>date</type>
	                <notnull>false</notnull>
	            </field>	
				<field>
	                <name>confirmation_date</name>
	                <type>date</type>
	                <notnull>false</notnull>
	            </field>	
				<field>
	                <name>donation_account_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>false</notnull>
	            </field>
				<field>
                    <name>erp_proceed_account_id</name>
                    <type>integer</type>
					<notnull>true</notnull>
					<default>null</default>
                </field>
				<field>
	                <name>donation_amount</name>
	                <type>float</type>
					<unsigned>false</unsigned>
	                <notnull>false</notnull>
					<default>0</default>
	            </field>
				<field>
	                <name>donation_usage</name>
	                <type>text</type>
	                <notnull>false</notnull>
	            </field>	
				<field>
	                <name>gratuation_kind</name>
					<type>enum</type>
					<value>THANK_NO</value>
					<value>THANK_STANDARD</value>
					<value>THANK_INDIVIDUAL</value>
					<default>THANK_NO</default>
	            </field>
				<field>
	                <name>confirmation_kind</name>
					<type>enum</type>
					<value>CONFIRMATION_COLLECT</value>
					<value>CONFIRMATION_SINGLE</value>
					<value>CONFIRMATION_NO</value>
					<default>CONFIRMATION_COLLECT</default>
	            </field>	
				<field>
	                <name>non_monetary</name>
	                <type>boolean</type>
					<default>false</default>
					<notnull>false</notnull>
	            </field>
				<field>
	                <name>non_monetary_source</name>
					<type>enum</type>
					<value>COMMERCIAL</value>
					<value>PRIVATE</value>
					<value>NOSTATEMENT</value>
					<default>NOSTATEMENT</default>
	            </field>				
				<field>
	                <name>non_monetary_rating</name>
	                <type>boolean</type>
					<default>false</default>
					<notnull>false</notnull>
	            </field>				
				<field>
	                <name>refund_quitclaim</name>
	                <type>boolean</type>
					<default>false</default>
					<notnull>false</notnull>
	            </field>
				<field>
	                <name>non_monetary_description</name>
	                <type>text</type>
					<length>1024</length>
					<default>null</default>
	                <notnull>false</notnull>
	            </field>
				<field>
	                <name>confirm_nr</name>
	                <type>text</type>
					<length>24</length>
					<default>null</default>
	                <notnull>false</notnull>
	            </field>
				<field>
	                <name>is_hidden</name>
	                <type>boolean</type>
	                <notnull>true</notnull>
					<default>false</default>
	            </field>
				<field>
	                <name>donation_type</name>
					<type>enum</type>
					<value>CYCLE</value>
					<value>SINGLE</value>
					<default>SINGLE</default>
	            </field>
				<field>
                    <name>booking_id</name>
                    <type>integer</type>
                    <notnull>false</notnull>
                    <default>null</default>
                </field>
				<!-- erlÃ¶skonto -->
				<field>
                    <name>erp_proceed_account_id</name>
                    <type>integer</type>
					<notnull>true</notnull>
					<default>null</default>
                </field>
				<field>
	                <name>is_cancelled</name>
	                <type>boolean</type>
	                <notnull>true</notnull>
					<default>false</default>
	            </field>
				<field>
	                <name>is_cancellation</name>
	                <type>boolean</type>
	                <notnull>true</notnull>
					<default>false</default>
	            </field>
				<field>
                    <name>allow_booking</name>
                    <type>boolean</type>
                    <default>true</default>
                </field>
				<field>
                    <name>period</name>
                    <type>integer</type>
					<notnull>false</notnull>
					<default>0</default>
			    </field>									
				<field>
                    <name>fee_group_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>false</notnull>
					<default>null</default>
                </field>
				<field>
                    <name>is_member</name>
                    <type>boolean</type>
					<notnull>true</notnull>
					<default>false</default>
			    </field>
				<index>
                    <name>id</name>
                    <primary>true</primary>
                    <field>
                        <name>id</name>
                    </field>
                </index>
				<index>
                    <name>unique_donation_donation_nr</name>
                    <unique>true</unique>
                    <field>
                        <name>donation_nr</name>
                    </field>
                </index>				
			</declaration>
		</table>			
		<table>
			<name>fund_campaign</name>	
			<version>4</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
                <field>
                    <name>project_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
                <field>
                    <name>donation_unit_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>	
				<field>
                    <name>erp_proceed_account_id</name>
                    <type>integer</type>
					<notnull>true</notnull>
					<default>null</default>
                </field>
				<field>
                    <name>erp_activity_account_id</name>
                    <type>integer</type>
					<notnull>false</notnull>
					<default>null</default>
                </field>		
				<field>
                    <name>gratuation_template_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
					<name>responsible_contact_id</name>
					<type>integer</type>
					<notnull>false</notnull>
				</field>
				<field>
					<name>campaign_nr</name>
					<type>integer</type>
					<autoincrement>true</autoincrement>
					<notnull>false</notnull>
				</field>
				<field>
					<name>name</name>
					<type>text</type>
					<length>256</length>
					<notnull>true</notnull>
				</field>
				<field>
					<name>description</name>
					<type>text</type>
					<notnull>false</notnull>
				</field>				
				<field>
					<name>project_nr</name>
					<type>integer</type>
					<notnull>false</notnull>
				</field>
				<field>
	                <name>donation_account_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>false</notnull>
	            </field>
				<field>
					<name>cost_unit</name>
					<type>text</type>
					<length>64</length>
					<notnull>false</notnull>
				</field>
				<field>
					<name>budget</name>
					<type>float</type>
					<notnull>false</notnull>
				</field>				
				<field>
					<name>begin</name>
					<type>date</type>
					<notnull>false</notnull>
				</field>
				<field>
					<name>end</name>
					<type>date</type>
					<notnull>false</notnull>
				</field>
				
				<field>
	                <name>gratuation_kind</name>
					<type>enum</type>
					<value>THANK_NO</value>
					<value>THANK_STANDARD</value>
					<value>THANK_INDIVIDUAL</value>
					<value>NO_VALUE</value>
					<default>NO_VALUE</default>
	            </field>
				<field>
	                <name>is_closed</name>
	                <type>boolean</type>
	                <notnull>true</notnull>
					<default>false</default>
	            </field>
				<field>
                    <name>debit_account_system_id</name>
                    <type>integer</type>
                    <notnull>false</notnull>
                    <default>null</default>
                </field>
				<field>
                    <name>bank_account_system_id</name>
                    <type>integer</type>
                    <notnull>false</notnull>
                    <default>null</default>
                </field>					
				<index>
                    <name>id</name>
                    <primary>true</primary>
                    <field>
                        <name>id</name>
                    </field>
                </index>				
				<index>
                    <name>unique_campaign_nr</name>
                    <unique>true</unique>
                    <field>
                        <name>campaign_nr</name>
                    </field>
                </index>				
			</declaration>
		</table>
		<table>
			<name>fund_project</name>	
			<version>1</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
					<name>project_nr</name>
					<type>integer</type>
					<autoincrement>true</autoincrement>
					<notnull>false</notnull>
				</field>				
				<field>
					<name>name</name>
					<type>text</type>
					<length>256</length>
					<notnull>true</notnull>
				</field>
				<field>
					<name>description</name>
					<type>text</type>
					<notnull>false</notnull>
				</field>
				<index>
                    <name>id</name>
                    <primary>true</primary>
                    <field>
                        <name>id</name>
                    </field>
                </index>
				<index>
                    <name>unique_project_nr</name>
                    <unique>true</unique>
                    <field>
                        <name>project_nr</name>
                    </field>
                </index>			
			</declaration>
		</table>
		<table>
			<name>fund_donation_account</name>	
			<version>1</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
					<name>bank_account_nr</name>
					<type>text</type>
					<length>32</length>
					<notnull>true</notnull>
				</field>
				<field>
					<name>bank_code</name>
					<type>text</type>
					<length>16</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
					<name>bank_name</name>
					<type>text</type>
					<length>48</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
					<name>account_name</name>
					<type>text</type>
					<length>48</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
					<name>description</name>
					<type>text</type>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
                    <name>bank_account_system_id</name>
                    <type>integer</type>
                    <notnull>false</notnull>
                    <default>null</default>
                </field>	
				<index>
                    <name>id</name>
                    <primary>true</primary>
                    <field>
                        <name>id</name>
                    </field>
                </index>
				<index>
                    <name>unique_donation_account_nr</name>
                    <unique>true</unique>
                    <field>
                        <name>bank_account_nr</name>
                    </field>
                </index>			
			</declaration>
		</table>
		<table>
			<name>fund_donation_unit</name>
			<version>1</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
	                <name>contact_id</name>
	                <type>integer</type>
	                <notnull>true</notnull>
	            </field>
				<field>
					<name>unit_nr</name>
					<type>text</type>
					<length>16</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
					<name>unit_name</name>
					<type>text</type>
					<length>16</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
			</declaration>
		</table>	
		<table>
			<name>fund_regular_donation</name>	
			<version>3</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
                </field>
				<field>
                    <name>regular_donation_nr</name>
                    <type>text</type>
					<length>24</length>
                    <notnull>true</notnull>
                </field>
				<field>
					<name>fundmaster_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
				</field>			
				<field>
					<name>campaign_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>false</notnull>
				</field>
				<field>
	                <name>donation_account_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>false</notnull>
	            </field>
				<field>
                    <name>erp_proceed_account_id</name>
                    <type>integer</type>
					<notnull>true</notnull>
					<default>null</default>
                </field>
				<field>
					<name>last_receipt_id</name>
                    <type>integer</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
					<name>last_donation_id</name>
                    <type>text</type>
					<length>40</length>
                    <notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
					<name>begin_date</name>
                    <type>date</type>
					<notnull>true</notnull>
				</field>
				<field>
					<name>next_date</name>
                    <type>date</type>
					<notnull>true</notnull>
				</field>
				<field>
					<name>end_date</name>
                    <type>date</type>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
	                <name>reg_donation_amount</name>
	                <type>float</type>
	                <notnull>false</notnull>
					<default>0</default>
	            </field>
				<field>
	                <name>gratuation_kind</name>
					<type>enum</type>
					<value>THANK_NO</value>
					<value>THANK_STANDARD</value>
					<value>THANK_INDIVIDUAL</value>
					<default>THANK_NO</default>
	            </field>
				<field>
	                <name>confirmation_kind</name>
					<type>enum</type>
					<value>CONFIRMATION_COLLECT</value>
					<value>CONFIRMATION_SINGLE</value>
					<value>CONFIRMATION_NO</value>
					<default>CONFIRMATION_COLLECT</default>
	            </field>				
				<field>
					<name>donation_payment_interval</name>
					<type>enum</type>
					<value>NOVALUE</value>
					<value>YEAR</value>
					<value>HALF</value>
					<value>QUARTER</value>
					<value>MONTH</value>
					<default>NOVALUE</default>
				</field>	
				<field>
					<name>donation_payment_method</name>
					<type>text</type>
					<length>40</length>
                    <notnull>true</notnull>
					<default>NOVALUE</default>
				</field>
				<field>
					<name>bank_account_nr</name>
					<type>text</type>
					<length>32</length>
					<notnull>false</notnull>
					<default>null</default>
				</field>
				<field>
					<name>bank_code</name>
					<type>text</type>
					<length>16</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
					<name>bank_name</name>
					<type>text</type>
					<length>48</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
					<name>account_name</name>
					<type>text</type>
					<length>48</length>
					<default>null</default>
					<notnull>false</notnull>
				</field>
				<field>
	                <name>on_hold</name>
	                <type>boolean</type>
	                <notnull>true</notnull>
					<default>false</default>
	            </field>
				<field>
	                <name>terminated</name>
	                <type>boolean</type>
	                <notnull>true</notnull>
					<default>false</default>
	            </field>
				<field>
	                <name>control_sum</name>
	                <type>float</type>
	                <notnull>false</notnull>
					<default>0</default>
	            </field>
				<field>
	                <name>control_count</name>
	                <type>integer</type>
	                <notnull>false</notnull>
					<default>0</default>
	            </field>
				<field>
	                <name>terminated_membership</name>
	                <type>integer</type>
	                <notnull>false</notnull>
					<default>0</default>
	            </field>
				<field>
	                <name>donation_usage</name>
	                <type>text</type>
	                <notnull>false</notnull>
	            </field>
				<index>
                    <name>id</name>
                    <primary>true</primary>
                    <field>
                        <name>id</name>
                    </field>
                </index>
			</declaration>
		</table>
    </tables>
	
	
	<defaultRecords>
		<record>
			<table>
				<name>number_base</name>
			</table>
			<field>
				<name>key</name>
				<value>donator_collected_confirmation_nr</value>
			</field>
			<field>
				<name>formula</name>
				<value>N1</value>
			</field>
			<field>
				<name>number1</name>
				<value>0</value>
			</field>
			<field>
				<name>number2</name>
				<value>0</value>
			</field>
			<field>
				<name>number3</name>
				<value>0</value>
			</field>
			<field>
				<name>last_generated</name>
				<value>0</value>
			</field>			
		</record>
	</defaultRecords>
	
</application>